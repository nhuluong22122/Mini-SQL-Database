TEST2.sh - test driver for CS157B project inner join
Compile your code
In file included from db.cpp:5:
./db.h:158:3: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
  ^
./db.h:158:10: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
         ^
./db.h:158:18: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
                 ^
./db.h:158:29: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
                            ^
./db.h:158:39: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
                                      ^
./db.h:158:48: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
                                               ^
./db.h:158:55: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
                                                      ^
./db.h:158:63: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
                                                              ^
./db.h:158:71: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
                                                                      ^
./db.h:158:79: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "int", "char", "varchar", "create", "table", "not", "null", "drop", "list", "schema",
                                                                              ^
./db.h:159:3: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "for", "to", "insert", "into", "values", "delete", "from", "where",
  ^
./db.h:159:10: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "for", "to", "insert", "into", "values", "delete", "from", "where",
         ^
./db.h:159:16: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "for", "to", "insert", "into", "values", "delete", "from", "where",
               ^
./db.h:159:26: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "for", "to", "insert", "into", "values", "delete", "from", "where",
                         ^
./db.h:159:34: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "for", "to", "insert", "into", "values", "delete", "from", "where",
                                 ^
./db.h:159:44: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "for", "to", "insert", "into", "values", "delete", "from", "where",
                                           ^
./db.h:159:54: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "for", "to", "insert", "into", "values", "delete", "from", "where",
                                                     ^
./db.h:159:62: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "for", "to", "insert", "into", "values", "delete", "from", "where",
                                                             ^
./db.h:160:3: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
  ^
./db.h:160:13: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
            ^
./db.h:160:20: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
                   ^
./db.h:160:30: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
                             ^
./db.h:160:39: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
                                      ^
./db.h:160:45: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
                                            ^
./db.h:160:53: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
                                                    ^
./db.h:160:59: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
                                                          ^
./db.h:160:66: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "update", "set", "select", "order", "by", "desc", "is", "and", "or",
                                                                 ^
./db.h:161:3: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "sum", "avg", "count", "backup", "restore", "rollforward", "without", "rf"
  ^
./db.h:161:10: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "sum", "avg", "count", "backup", "restore", "rollforward", "without", "rf"
         ^
./db.h:161:17: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "sum", "avg", "count", "backup", "restore", "rollforward", "without", "rf"
                ^
./db.h:161:26: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "sum", "avg", "count", "backup", "restore", "rollforward", "without", "rf"
                         ^
./db.h:161:36: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "sum", "avg", "count", "backup", "restore", "rollforward", "without", "rf"
                                   ^
./db.h:161:47: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "sum", "avg", "count", "backup", "restore", "rollforward", "without", "rf"
                                              ^
./db.h:161:62: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "sum", "avg", "count", "backup", "restore", "rollforward", "without", "rf"
                                                             ^
./db.h:161:73: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
  "sum", "avg", "count", "backup", "restore", "rollforward", "without", "rf"
                                                                        ^
db.cpp:213:28: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                                        add_to_list(tok_list, "", terminator, EOC);
                                                              ^
db.cpp:243:28: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                                        add_to_list(tok_list, "", terminator, EOC);
                                                              ^
db.cpp:270:27: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                                add_to_list(tok_list, "", terminator, EOC);
                                                      ^
db.cpp:300:28: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                                        add_to_list(tok_list, "", terminator, EOC);
                                                              ^
db.cpp:309:27: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                                add_to_list(tok_list, "", terminator, EOC);
                                                      ^
db.cpp:746:36: warning: format specifies type 'int' but the argument has type 'off_t' (aka 'long long') [-Wformat]
                printf("dbfile.bin size = %d\n", file_stat.st_size);
                                          ~~     ^~~~~~~~~~~~~~~~~
                                          %lld
db.cpp:2137:37: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                        char *end = ")";
                                    ^
db.cpp:2138:39: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                        char *start = "";
                                      ^
db.cpp:2141:38: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                             start = "SUM(";
                                     ^
db.cpp:2144:38: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                             start = "COUNT(";
                                     ^
db.cpp:2147:38: warning: conversion from string literal to 'char *' is deprecated [-Wc++11-compat-deprecated-writable-strings]
                             start = "AVG(";
                                     ^
46 warnings generated.
Clean up
==========================================================================================

dbfile.bin size = 696
          create 	1 	 13
           table 	1 	 14
        schedule 	2 	 85
               ( 	3 	 70
         Student 	2 	 85
            char 	4 	 11
               ( 	3 	 70
              12 	5 	 90
               ) 	3 	 71
             NOT 	1 	 15
            NULL 	1 	 16
               , 	3 	 72
           class 	2 	 85
            char 	4 	 11
               ( 	3 	 70
              12 	5 	 90
               ) 	3 	 71
               ) 	3 	 71
                 	7 	 95
CREATE TABLE statement
Error in the string: schedule
rc=-398
------------------------------------------------------------------------------------------

dbfile.bin size = 696
          insert 	1 	 22
            into 	1 	 23
        schedule 	2 	 85
          values 	1 	 24
               ( 	3 	 70
             Siu 	5 	 91
               , 	3 	 72
           CS156 	5 	 91
               ) 	3 	 71
                 	7 	 95
INSERT statement
schedule.tab size: 220. Number of records: 7
dbfile.bin size = 696
          insert 	1 	 22
            into 	1 	 23
        schedule 	2 	 85
          values 	1 	 24
               ( 	3 	 70
           Frank 	5 	 91
               , 	3 	 72
           CS174 	5 	 91
               ) 	3 	 71
                 	7 	 95
INSERT statement
schedule.tab size: 248. Number of records: 8
dbfile.bin size = 696
          insert 	1 	 22
            into 	1 	 23
        schedule 	2 	 85
          values 	1 	 24
               ( 	3 	 70
          Jordon 	5 	 91
               , 	3 	 72
           CS160 	5 	 91
               ) 	3 	 71
                 	7 	 95
INSERT statement
schedule.tab size: 276. Number of records: 9
------------------------------------------------------------------------------------------

total 752
drwxr-xr-x@ 22 nhuluong  staff     704 May 11 11:19 .
drwxr-xr-x+ 76 nhuluong  staff    2432 May  9 23:58 ..
-rw-r--r--@  1 nhuluong  staff    8196 May 11 11:14 .DS_Store
drwxr-xr-x  13 nhuluong  staff     416 May 11 10:29 .git
-rw-r--r--   1 nhuluong  staff       0 May  9 09:28 .tab
drwxr-xr-x   5 nhuluong  staff     160 May 11 11:14 Archive
-rw-r--r--   1 nhuluong  staff     344 May 11 10:30 class.tab
-rw-r--r--   1 nhuluong  staff      24 May 11 11:14 class2.tab
-rwxr-xr-x   1 nhuluong  staff   69172 May 11 11:19 db
-rw-r--r--@  1 nhuluong  staff  157245 May 11 11:19 db.cpp
-rw-r--r--@  1 nhuluong  staff    7617 May 11 10:37 db.h
-rw-r--r--   1 nhuluong  staff    6400 May 11 11:19 db.log
-rw-r--r--   1 nhuluong  staff     696 May 11 11:17 dbfile.bin
drwxr-xr-x  18 nhuluong  staff     576 May 11 09:47 p1p3
-rw-r--r--   1 nhuluong  staff   37464 May 10 23:16 p1p3.zip
drwxr-xr-x   3 nhuluong  staff      96 May 10 11:23 p3_test
-rw-r--r--   1 nhuluong  staff     276 May 11 11:19 schedule.tab
-rw-r--r--   1 nhuluong  staff   13059 May 11 11:19 test.out
-rw-r--r--   1 nhuluong  staff    2807 May 11 11:16 test.sh
-rw-r--r--   1 nhuluong  staff      72 May 11 10:30 test.tab
-rw-r--r--@  1 nhuluong  staff    1163 May 11 11:18 test2.sh
-rw-r--r--   1 nhuluong  staff    3961 May 10 13:01 testp3.sh
------------------------------------------------------------------------------------------

test2.sh: line 22: 29914 Segmentation fault: 11  ./db "select * from schedule"
------------------------------------------------------------------------------------------
